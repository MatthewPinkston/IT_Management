{% extends '/views/templates/mainTemplate.html' %}

{% block content %}
    <div class="container-fluid rppit-mc-p1">
        <h1 class="color-accent font-Montserrat fw-bold display-5 mt-4 mb-4 ms-3">Licensing Tracking</h1>
            <div class="w-100 p-3" >
            <table
                id="table"
                data-toggle="table"
                data-search="true"
                data-filter-control="true" 
                data-show-export="true"
                data-click-to-select="true"
                data-toolbar="#toolbar"
                class="table text-center table-responsive" 
            >
                <thead class="table-light">
                    <tr>
                        <th data-field="Name" data-sortable="true" scope="col">Software Name</th>
                        <th data-field="ItemNumber" data-sortable="true" scope="col">Item #</th>                        
                        <th data-field="Version" data-sortable="true" scope="col">Software Version</th>
                        <th data-field="QuantityPurchased" scope="col">Quantity Purchased</th>
                        <th data-field="QuantityUsed" data-sortable="true" scope="col">Quantity Used</th>
                        <th data-field="QuantityRemaining" data-sortable="true" scope="col">Quantity Remaining</th>
                        <th data-field="Actions(CRUD)" data-sortable="false" scope="col">Actions</th>
                        <th data-field="LicenseStatus" data-sortable="true" scope="col">Compliance Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for license in licenses %}
                        <tr>
                            <td class="font-Montserrat f-weigth-400">{{ license.Name }}</td>
                            <td class="font-Montserrat f-weigth-400">{{ license.Version }}</td>
                            <td class="font-Montserrat f-weigth-400">{{ license.QuantityPurchased }}</td>
                            <td class="font-Montserrat f-weigth-400">{{ license.QuantityUsed }}</td>
                            <td class="font-Montserrat f-weigth-400">{{ license.QuantityPurchased - license.QuantityUsed }}</td>
                            <td class="font-Montserrat f-weigth-400">
                                {% if license.complianceStatus == 'Under Licensed' %}
                                    <small class="d-inline-flex mb-3 px-2 py-1 fw-semibold text-success bg-success bg-opacity-10 border border-success border-opacity-10 rounded-2">{{license.complianceStatus}}</small>
                                {% elseif license.complianceStatus == 'Over Licensed' %}
                                    <small class="d-inline-flex mb-3 px-2 py-1 fw-semibold text-primary bg-primary bg-opacity-10 border border-success border-opacity-10 rounded-2">{{license.complianceStatus}}</small>
                                {% else %}
                                    <small class="d-inline-flex mb-3 px-2 py-1 fw-semibold text-secondary bg-secondary bg-opacity-10 border border-success border-opacity-10 rounded-2">{{license.complianceStatus}}</small>
                                {% endif %}
                            </td>
                            <td class="">

                                <div >


                                    <a role="button" href="/add-lic" class="btn btn-info ">
                                        Add
                                    </a>
                              
                                    <a role="button" href="/edit-lic?id={{ license.id }}" class="btn button-accent font-Montserrat f-weight-400">
                                        Edit
                                    </a> <br>

                                    <a role="button" href="/delete-lic?id={{ license.id }}" class="btn btn-danger font-Montserrat f-weight-400">
                                        Delete
                                    </a> <br>


                                    <button type="button" class="btn btn-info font-Montserrat f-weight-400">
                                        View
                                    </button> 
    
                               
                                <!-- <button type="button" class="btn btn-danger">
                                    <i class="bi bi-trash3-fill"></i>
                                </button> -->

                                

                              


                                

                                </div>
                                

                          






                            </td>
                            <td class="font-Montserrat f-weigth-400">{{ license.networkInstallations }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
        </table>
        <nav aria-label="Page navigation example">
            <ul class="pagination pagination-sm justify-content-end">
              <li class="page-item disabled">
                <a class="page-link" href="#" tabindex="-1"><i class="bi bi-caret-left-fill"></i></a>
              </li>
              <li class="page-item"><a class="page-link" href="#">1</a></li>
              <li class="page-item"><a class="page-link" href="#">2</a></li>
              <li class="page-item"><a class="page-link" href="#">3</a></li>
              <li class="page-item">
                <a class="page-link" href="#"><i class="bi bi-caret-right-fill"></i></a>
              </li>
            </ul>
          </nav>
    </div>
{% endblock %}
